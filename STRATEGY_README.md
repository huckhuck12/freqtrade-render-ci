# 晚上8点高低点策略 - 最终优化版

## 策略概述

这是一个基于"大道至简"理念的量化交易策略，通过识别晚上8点是否为当日极值点来进行反转交易。

## 核心逻辑

1. **时间节点**: 以晚上8点(20:00)为关键时间节点
2. **极值判断**: 判断8点K线是否为当日最高点或最低点
3. **交易方向**: 
   - 8点为最高点 → 做空
   - 8点为最低点 → 做多
4. **确认机制**: 等待下一小时价格确认反转方向

## 优化措施

### 1. 入场过滤条件
- **成交量确认**: 成交量需超过20期均线的1.1倍
- **价格确认**: 等待0.1%的价格反转确认
- **趋势过滤**: 只在价格接近20期均线5%范围内交易

### 2. 风险管理
- **止损**: 1.5%
- **止盈**: 3.0% (动态递减)
- **盈亏比**: 2:1

### 3. 技术参数
```python
timeframe = "1h"              # 1小时K线
volume_threshold = 1.1        # 成交量阈值
confirmation_threshold = 0.001 # 价格确认阈值
tolerance = 0.005             # 极值容差0.5%
sma_range_pct = 0.05          # 均线范围5%
```

## 回测表现

基于5年历史数据回测结果：

| 指标 | 数值 |
|------|------|
| **总收益率** | 47.12% |
| **年化收益率** | 9.42% |
| **胜率** | 58.10% |
| **止盈率** | 58.10% |
| **总交易次数** | 253笔 |
| **盈利交易** | 147笔 |
| **亏损交易** | 106笔 |

## 策略优势

1. **逻辑简单**: 基于时间和价格的简单逻辑，易于理解和执行
2. **胜率较高**: 58.10%的胜率，显著高于随机交易
3. **风险可控**: 明确的止损止盈机制
4. **适应性强**: 可应用于不同的加密货币对

## 使用方法

### 1. 环境准备
```bash
# 安装freqtrade
pip install freqtrade

# 或使用Docker
docker pull freqtradeorg/freqtrade:stable
```

### 2. 配置文件
使用 `config/eightpm_backtest.json` 配置文件

### 3. 运行回测
```bash
# 使用提供的脚本
./scripts/run_eightpm_backtest.sh

# 或手动运行
freqtrade backtesting --config config/eightpm_backtest.json --strategy EightPMHighLowStrategy
```

### 4. 实盘交易
```bash
freqtrade trade --config config/eightpm_live.json --strategy EightPMHighLowStrategy
```

## 注意事项

### 风险提示
1. **历史表现不代表未来**: 回测结果基于历史数据，实际表现可能不同
2. **市场环境变化**: 策略在不同市场环境下表现可能有差异
3. **滑点和手续费**: 实盘交易需考虑滑点和手续费成本

### 建议
1. **小资金测试**: 建议先用小资金进行实盘测试
2. **参数调整**: 可根据实际表现微调参数
3. **风险管理**: 严格控制仓位大小，不超过总资金的10%

## 策略演进

### 版本历史
- **v1.0**: 基础8点极值策略
- **v2.0**: 增加过滤条件
- **v3.0**: 添加价格确认机制
- **v4.0**: 优化止损止盈比例 (当前版本)

### 未来优化方向
1. 多时间框架确认
2. 市场情绪指标
3. 动态参数调整
4. 机器学习优化

## 联系方式

如有问题或建议，请通过以下方式联系：
- 创建Issue
- 提交Pull Request

---

**免责声明**: 本策略仅供学习和研究使用，不构成投资建议。交易有风险，投资需谨慎。